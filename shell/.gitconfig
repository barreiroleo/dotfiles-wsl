[user]
    name = Leo Barreiro
    email = a.leo.barreiro@gmail.com
[credential]
	helper = store
[core]
    editor = nvim
    pager = delta
[pull]
    rebase = true

[format]
    pretty = format:%C(bold red)%h %C(no-bold white)%s %C(yellow)%d %C("#505050")(%cr: %an)
[alias]
    st = status -sb
    lg = log --graph
    lgp = log --graph --all --pretty=full --author='Leo Barreiro'
    unpushed = log --branches --not --remotes --graph
    push-gerrit = push origin HEAD:refs/for/main
    push-for-wip = push origin HEAD:refs/for/main%wip
    # Difftastic
    dlog = -c diff.external=difft log -p --ext-diff
    dshow = -c diff.external=difft show --ext-diff
    ddiff = -c diff.external=difft diff

[diff]
    # difftastic as default difftool: tool = difftastic; external = difft
    tool = nvimdiff_2way
    guitool = nvimdiff_2way
    algorithm = histogram
[merge]
    tool = nvimdiff_3way
    conflictStyle = zdiff3
[rebase]
    autosquash = true
[difftool]
    prompt = true
[mergetool]
    prompt = true
[pager]
    difftool = true

[interactive]
    diffFilter = delta --color-only
[delta]
    navigate = true # use n and N
    side-by-side = true
    line-numbers = true

[difftool "difftastic"]
    # See `man git-difftool` for a description of MERGED, LOCAL and REMOTE.
    cmd = difft "$MERGED" "$LOCAL" "abcdef1" "100644" "$REMOTE" "abcdef2" "100644"

[difftool "nvim_difftool"]
    cmd = nvim -c 'packadd nvim.difftool' -c 'DiffTool $LOCAL $REMOTE'
# LOCAL: the head for the file(s) from the current branch on the machine that you are using.
# REMOTE: the head for files(s) from a remote location that you are trying to merge into your LOCAL branch.
# BASE: the common ancestor(s) of LOCAL and REMOTE.
# MERGED: the tag / HEAD object after the merge - this is saved as a new commit.
# These cmds are the same as native git nvimdiff but with sortcuts.
[difftool "nvimdiff_2way"]
    cmd = "nvim -d $LOCAL $REMOTE -c 'nnoremap ZZ :wqall<CR>' -c 'nnoremap ZQ :quitall<CR>'"
[mergetool "nvimdiff_3way"]
    cmd = "nvim -d $LOCAL $MERGED $REMOTE \
        -c 'nnoremap dgh :diffget 1<CR>' -c 'nnoremap dgl :diffget 3<CR>' -c 'nnoremap dp :diffput 2<CR>' \
        -c 'nnoremap ZZ :wqall<CR>' -c 'nnoremap ZQ :quitall<CR>' -c 'wincmd w'"
[mergetool "nvimdiff_4way"]
    cmd = "nvim -d $LOCAL $BASE $REMOTE $MERGED \
        -c 'nnoremap dgh :diffget 1<CR>' -c 'nnoremap dgl :diffget 3<CR>' -c 'nnoremap dp :diffput 4<CR>' \
        -c 'nnoremap ZZ :wqall<CR>' -c 'nnoremap ZQ :quitall<CR>' -c '$wincmd w' -c 'wincmd J'"
